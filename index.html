<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Screen Video with Overlay</title>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.min.css" rel="stylesheet">
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #my-video {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
        }
        #overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5vw; /* Responsive font size */
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
    </style>
</head>
<!-- https://br5093.streamingdevideo.com.br/abc/abc/manifest.mpd -->
<body>
    <div id="video-container">
        <video id="my-video" class="video-js vjs-default-skin vjs-big-play-centered" controls autoplay playsinline>
        </video>
    </div>

    <div id="overlay">opa, legal Anderson, funcionou !</div>

    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    <script>
        async function initializePlayer() {
            const videoElement = document.getElementById("my-video");
            
            try {
                const configuration = {
                    iceServers: [{
                        urls: 'stun:stun.l.google.com:19302'
                    }]
                };
                
                const peerConnection = new RTCPeerConnection(configuration);
                
                // Replace this URL with your actual WebRTC signaling server endpoint
                const signalingUrl = 'wss://your-signaling-server.com';
                const ws = new WebSocket(signalingUrl);
                
                ws.onmessage = async function(event) {
                    const message = JSON.parse(event.data);
                    if (message.type === 'offer') {
                        await peerConnection.setRemoteDescription(new RTCSessionDescription(message));
                        const answer = await peerConnection.createAnswer();
                        await peerConnection.setLocalDescription(answer);
                        ws.send(JSON.stringify({
                            type: 'answer',
                            sdp: answer
                        }));
                    }
                };
                
                peerConnection.ontrack = function(event) {
                    if (videoElement.srcObject !== event.streams[0]) {
                        videoElement.srcObject = event.streams[0];
                    }
                };
            } catch (error) {
                console.error('Error initializing WebRTC:', error);
            }
        }

        document.addEventListener("DOMContentLoaded", initializePlayer);
    </script>
</body>
</html>

